"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2704],{2704:(P,h,a)=>{a.r(h),a.d(h,{RegisterPageModule:()=>v});var p=a(1368),c=a(4716),i=a(9548),m=a(8424),g=a(1528),f=a(2724),e=a(4496),s=a(5359);const R=[{path:"",component:(()=>{var o;class u{customCounterFormatter(r,t){return t-r+" characters remaining"}constructor(r,t,l){this.authService=r,this.router=t,this.alertController=l,this.user=new f.i}register(){let r="";this.user.isValidEmail()?this.user.isValidPassword()?this.user.isValidName()?this.user.passwordsMatch()||(r="Passwords do not match."):r="Please provide a valid first and last name.":r="Password must be at least 8 characters long.":r="Please provide a valid email address.",r?this.presentAlert("Registration Failed","Invalid Data",r,!1):this.authService.register(this.user).subscribe(t=>{console.log("Registration successful",t),this.presentAlert("Registration Successful","Welcome to TaskFlow App","Your account has been created successfully.",!0)},t=>{console.error("Registration failed:",t),r="User already exists."===t.error?"An account with this email already exists.":"An unexpected error occurred.",this.presentAlert("Registration Failed","Error",r,!1)})}goToLogin(){this.router.navigateByUrl("/login")}presentAlert(r,t,l,n){var M=this;return(0,g.c)(function*(){yield(yield M.alertController.create({header:r,subHeader:t,message:l,buttons:n?[{text:"OK",handler:()=>{M.router.navigateByUrl("/login")}}]:["OK"]})).present()})()}}return(o=u).\u0275fac=function(r){return new(r||o)(e.GI1(s.o),e.GI1(m.E5),e.GI1(i.iW))},o.\u0275cmp=e.In1({type:o,selectors:[["app-register"]],decls:35,vars:10,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[3,"fullscreen"],[1,"flex-center"],["shape","round"],[1,"login-header"],[2,"display","block","text-align","center","padding","0 20px"],[1,"ion-padding-top"],["color","",1,"ion-padding-top"],["color","tertiary"],["type","text","label","Name","labelPlacement","floating","placeholder","",3,"ngModel","ngModelChange"],["type","text","label","Last name","labelPlacement","floating","placeholder","",3,"ngModel","ngModelChange"],["type","email","label","Email","labelPlacement","floating","placeholder","",3,"ngModel","ngModelChange"],["type","password","label","Password","labelPlacement","floating","placeholder","","aria-label","Show/hide","minlength","8",3,"ngModel","counter","counterFormatter","ngModelChange"],["type","password","label","Confirm password","labelPlacement","floating","placeholder","","aria-label","Show/hide","minlength","8",1,"ion-padding-bottom",3,"ngModel","counter","counterFormatter","ngModelChange"],["expand","block","shape","round","color","tertiary",3,"click"],["fill","clear","expand","block","shape","round","color","tertiary",1,"ion-padding-bottom",3,"click"]],template:function(r,t){1&r&&(e.I0R(0,"html",0)(1,"head"),e.wR5(2,"meta",1)(3,"meta",2)(4,"meta",3),e.C$Y(),e.I0R(5,"ion-content",4)(6,"div",5)(7,"ion-card",6)(8,"ion-card-header")(9,"div",7)(10,"div",8)(11,"ion-card-title",9),e.OEk(12," Welcome in TaskFlow App! "),e.C$Y(),e.I0R(13,"ion-text",10),e.OEk(14," We are very excited to have you join the "),e.I0R(15,"ion-text",11),e.OEk(16,"family"),e.C$Y()()()()(),e.I0R(17,"ion-card-content")(18,"ion-item")(19,"ion-input",12),e.iHE("ngModelChange",function(n){return e.kNx(t.user.firstName,n)||(t.user.firstName=n),n}),e.C$Y()(),e.I0R(20,"ion-item")(21,"ion-input",13),e.iHE("ngModelChange",function(n){return e.kNx(t.user.lastName,n)||(t.user.lastName=n),n}),e.C$Y()(),e.I0R(22,"ion-item")(23,"ion-input",14),e.iHE("ngModelChange",function(n){return e.kNx(t.user.email,n)||(t.user.email=n),n}),e.C$Y()(),e.I0R(24,"ion-item")(25,"ion-input",15),e.iHE("ngModelChange",function(n){return e.kNx(t.user.password,n)||(t.user.password=n),n}),e.C$Y()(),e.I0R(26,"ion-item")(27,"ion-input",16),e.iHE("ngModelChange",function(n){return e.kNx(t.user.confirmPassword,n)||(t.user.confirmPassword=n),n}),e.C$Y()()(),e.I0R(28,"ion-card-content")(29,"ion-button",17),e.qCj("click",function(){return t.register()}),e.OEk(30,"Register"),e.C$Y()(),e.I0R(31,"ion-card-content"),e.OEk(32," You already have an account? "),e.C$Y(),e.I0R(33,"ion-button",18),e.qCj("click",function(){return t.goToLogin()}),e.OEk(34,"Log in"),e.C$Y()()()()()),2&r&&(e.yG2(5),e.E7m("fullscreen",!0),e.yG2(14),e.OKB("ngModel",t.user.firstName),e.yG2(2),e.OKB("ngModel",t.user.lastName),e.yG2(2),e.OKB("ngModel",t.user.email),e.yG2(2),e.OKB("ngModel",t.user.password),e.E7m("counter",!0)("counterFormatter",t.customCounterFormatter),e.yG2(2),e.OKB("ngModel",t.user.confirmPassword),e.E7m("counter",!0)("counterFormatter",t.customCounterFormatter))},dependencies:[c.ue,c.El,c._G,i.sn,i.KC,i.Gg,i.YY,i.I7,i._i,i.A5,i.Yb,i.Wg,i.qG],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{margin:0}section[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}ion-card[_ngcontent-%COMP%]{z-index:1}.login-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;flex-direction:column}ion-content[_ngcontent-%COMP%]{width:100%;height:100%}.logo-container[_ngcontent-%COMP%]{background:transparent;margin-bottom:20px}ion-content[_ngcontent-%COMP%]{--background: url(blob3.f5215d162753afc6.svg) no-repeat center center / cover}']}),u})()}];let y=(()=>{var o;class u{}return(o=u).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[m.qQ.forChild(R),m.qQ]}),u})(),v=(()=>{var o;class u{}return(o=u).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[p.MD,c.y,i.wZ,y]}),u})()},5359:(P,h,a)=>{a.d(h,{o:()=>m});var p=a(9212),c=a(4496),i=a(7048);let m=(()=>{var g;class f{constructor(s){this.http=s,this.baseUrl="https://taskflowapp.azurewebsites.net"}register(s){return this.http.post(`${this.baseUrl}/user/register`,s,{withCredentials:!0})}registerByAdmin(s){return this.http.post(`${this.baseUrl}/user/registerByAdmin`,s,{withCredentials:!0})}login(s){return this.http.post(`${this.baseUrl}/user/login`,s,{withCredentials:!0}).pipe((0,p.y)(C=>{localStorage.setItem("username",C.firstName),localStorage.setItem("role",C.role)}))}logout(){return this.http.post(`${this.baseUrl}/user/logout`,{},{withCredentials:!0}).pipe((0,p.y)(()=>{localStorage.removeItem("username"),localStorage.removeItem("role")}))}isLoggedIn(){return!!localStorage.getItem("username")}isUserAdmin(){return"admin"===localStorage.getItem("role")}}return(g=f).\u0275fac=function(s){return new(s||g)(c.CoB(i.KK))},g.\u0275prov=c.wxM({token:g,factory:g.\u0275fac,providedIn:"root"}),f})()}}]);