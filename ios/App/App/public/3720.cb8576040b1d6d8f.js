"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3720],{3720:(P,h,r)=>{r.r(h),r.d(h,{SettingsPageModule:()=>b});var C=r(1368),u=r(4716),t=r(9548),m=r(8424),g=r(5444),p=r(1528),e=r(4496),i=r(628);let w=(()=>{var s;class a{constructor(o,n){this.modalController=o,this.userService=n,this.currentPassword="",this.newPassword="",this.confirmNewPassword=""}dismissModal(){this.modalController.dismiss()}changePassword(){var o=this;return(0,p.c)(function*(){console.log(o.newPassword),console.log(o.confirmNewPassword),o.newPassword===o.confirmNewPassword?o.userService.changePassword(o.currentPassword,o.newPassword,o.confirmNewPassword).subscribe(n=>{console.log("Password changed successfully",n),o.dismissModal()},n=>{console.error("Error changing password",n)}):console.log("Passwords do not match")})()}}return(s=a).\u0275fac=function(o){return new(o||s)(e.GI1(t.qS),e.GI1(i.o))},s.\u0275cmp=e.In1({type:s,selectors:[["app-change-password-modal"]],decls:22,vars:3,consts:[[1,"ion-padding"],["slot","end"],[3,"click"],["position","stacked"],["type","password",3,"ngModel","ngModelChange"],["expand","block",3,"click"]],template:function(o,n){1&o&&(e.I0R(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.OEk(3,"Change Password"),e.C$Y(),e.I0R(4,"ion-buttons",1)(5,"ion-button",2),e.qCj("click",function(){return n.dismissModal()}),e.OEk(6,"Close"),e.C$Y()()()(),e.I0R(7,"ion-content",0)(8,"ion-item")(9,"ion-label",3),e.OEk(10,"Current Password"),e.C$Y(),e.I0R(11,"ion-input",4),e.iHE("ngModelChange",function(c){return e.kNx(n.currentPassword,c)||(n.currentPassword=c),c}),e.C$Y()(),e.I0R(12,"ion-item")(13,"ion-label",3),e.OEk(14,"New Password"),e.C$Y(),e.I0R(15,"ion-input",4),e.iHE("ngModelChange",function(c){return e.kNx(n.newPassword,c)||(n.newPassword=c),c}),e.C$Y()(),e.I0R(16,"ion-item")(17,"ion-label",3),e.OEk(18,"Confirm New Password"),e.C$Y(),e.I0R(19,"ion-input",4),e.iHE("ngModelChange",function(c){return e.kNx(n.confirmNewPassword,c)||(n.confirmNewPassword=c),c}),e.C$Y()(),e.I0R(20,"ion-button",5),e.qCj("click",function(){return n.changePassword()}),e.OEk(21,"Change Password"),e.C$Y()()),2&o&&(e.yG2(11),e.OKB("ngModel",n.currentPassword),e.yG2(4),e.OKB("ngModel",n.newPassword),e.yG2(4),e.OKB("ngModel",n.confirmNewPassword))},dependencies:[u.ue,u._G,t.sn,t.GS,t._i,t.wB,t.A5,t.Yb,t.QR,t.tM,t.Md,t.qG]}),a})();var f=r(5359);const _=[{path:"",component:(()=>{var s;class a{ngOnInit(){}constructor(o,n,l){this.router=o,this.authService=n,this.modalController=l}presentChangePasswordModal(){var o=this;return(0,p.c)(function*(){return yield(yield o.modalController.create({component:w})).present()})()}goToSettings(){this.router.navigateByUrl("/settings")}goToTasks(){this.router.navigateByUrl("/tasks")}goToHome(){this.router.navigateByUrl("/home")}logout(){this.authService.logout().subscribe({next:o=>{console.log("Wylogowano pomy\u015blnie"),this.router.navigateByUrl("/login")},error:o=>{console.error("B\u0142\u0105d podczas wylogowywania",o)}})}}return(s=a).\u0275fac=function(o){return new(o||s)(e.GI1(m.E5),e.GI1(f.o),e.GI1(t.qS))},s.\u0275cmp=e.In1({type:s,selectors:[["app-settings"]],decls:31,vars:2,consts:[[3,"translucent"],["size","large",2,"font-size","24px","margin-left","20px"],[3,"fullscreen"],[1,"flex-center"],["shape","round"],["size","large","name","cog-outline"],["expand","block",1,"ion-margin-top",3,"click"],["expand","block","color","danger",1,"ion-margin-top",3,"click"],["name","log-out-outline"],["slot","bottom","slot","fixed"],["tab","tasks",3,"click"],["name","hourglass-outline"],["tab","home",3,"click"],["name","home"],["tab","settings",3,"click"],["name","settings"]],template:function(o,n){1&o&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e.OEk(3,"Settings"),e.C$Y()()(),e.I0R(4,"ion-content",2)(5,"div",3)(6,"ion-card",4)(7,"ion-card-content")(8,"ion-card-header"),e.wR5(9,"ion-icon",5),e.C$Y(),e.I0R(10,"ion-button",6),e.qCj("click",function(){return n.presentChangePasswordModal()}),e.OEk(11," Change your password "),e.C$Y(),e.I0R(12,"ion-button",7),e.qCj("click",function(){return n.logout()}),e.OEk(13," Log out "),e.wR5(14,"ion-icon",8),e.C$Y()()()()(),e.I0R(15,"ion-footer")(16,"ion-toolbar")(17,"ion-tabs")(18,"ion-tab-bar",9)(19,"ion-tab-button",10),e.qCj("click",function(){return n.goToTasks()}),e.wR5(20,"ion-icon",11),e.I0R(21,"ion-label"),e.OEk(22,"Projects"),e.C$Y()(),e.I0R(23,"ion-tab-button",12),e.qCj("click",function(){return n.goToHome()}),e.wR5(24,"ion-icon",13),e.I0R(25,"ion-label"),e.OEk(26,"Home"),e.C$Y()(),e.I0R(27,"ion-tab-button",14),e.qCj("click",function(){return n.goToSettings()}),e.wR5(28,"ion-icon",15),e.I0R(29,"ion-label"),e.OEk(30,"Settings"),e.C$Y()()()()()()),2&o&&(e.E7m("translucent",!0),e.yG2(4),e.E7m("fullscreen",!0))},dependencies:[t.sn,t.KC,t.Gg,t.YY,t._i,t.eV,t.wB,t.Ko,t.QR,t.mx,t.ej,t.tM,t.Md,t.CE],styles:["ion-tab-bar[_ngcontent-%COMP%]{--background: #ffffff;--color-selected: #488aff;--color: grey;--mode: ios;padding-top:5px;border-top:1px solid #e0e0e0}ion-card-header[_ngcontent-%COMP%]{justify-content:center;align-items:center;width:100%;color:var(--ion-secondary-text-color);display:block;text-align:center;padding:0 20px}ion-card-title[_ngcontent-%COMP%]{color:#243158}ion-card-content[_ngcontent-%COMP%]{padding-top:50px;padding-bottom:50px}.flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}ion-button[_ngcontent-%COMP%]{padding:5px;height:10px;--border-width:1px}@media (max-width: 600px){.ion-button[_ngcontent-%COMP%]{width:90%;padding-top:50%}}"]}),a})(),canActivate:[g.w]}];let M=(()=>{var s;class a{}return(s=a).\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.a4G({type:s}),s.\u0275inj=e.s3X({imports:[m.qQ.forChild(_),m.qQ]}),a})(),b=(()=>{var s;class a{}return(s=a).\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.a4G({type:s}),s.\u0275inj=e.s3X({imports:[C.MD,u.y,t.wZ,M]}),a})()},5359:(P,h,r)=>{r.d(h,{o:()=>m});var C=r(9212),u=r(4496),t=r(7048);let m=(()=>{var g;class p{constructor(i){this.http=i,this.baseUrl="https://taskflowapp.azurewebsites.net"}register(i){return this.http.post(`${this.baseUrl}/user/register`,i,{withCredentials:!0})}registerByAdmin(i){return this.http.post(`${this.baseUrl}/user/registerByAdmin`,i,{withCredentials:!0})}login(i){return this.http.post(`${this.baseUrl}/user/login`,i,{withCredentials:!0}).pipe((0,C.y)(w=>{localStorage.setItem("username",w.firstName),localStorage.setItem("role",w.role)}))}logout(){return this.http.post(`${this.baseUrl}/user/logout`,{},{withCredentials:!0}).pipe((0,C.y)(()=>{localStorage.removeItem("username"),localStorage.removeItem("role")}))}isLoggedIn(){return!!localStorage.getItem("username")}isUserAdmin(){return"admin"===localStorage.getItem("role")}}return(g=p).\u0275fac=function(i){return new(i||g)(u.CoB(t.KK))},g.\u0275prov=u.wxM({token:g,factory:g.\u0275fac,providedIn:"root"}),p})()}}]);